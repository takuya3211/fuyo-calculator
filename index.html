<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ‰¶é¤Šãƒ©ã‚¤ãƒ³åˆ¤å®šãƒ„ãƒ¼ãƒ« 2025å¹´æœ€æ–°ç‰ˆï½œå¹´åã®å£ã‚’ä¸€ç™ºãƒã‚§ãƒƒã‚¯</title>
<meta name="description" content="2025å¹´ç¨åˆ¶æ”¹æ­£å¯¾å¿œã€‚å¹´åãƒ»å‹¤å‹™å…ˆè¦æ¨¡ãƒ»é…å¶è€…å¹´åã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§ã€æ‰¶é¤Šã‚’å¤–ã‚Œã‚‹ã‹ãƒ»æ‰‹å–ã‚ŠãŒå¢—ãˆã‚‹ã‹æ¸›ã‚‹ã‹ã‚’å³åº§ã«åˆ¤å®šã—ã¾ã™ã€‚">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700;900&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d0d0f;
    --surface: #141418;
    --card: #1a1a20;
    --border: #2a2a35;
    --accent: #e8c547;
    --accent2: #ff6b35;
    --text: #f0ede8;
    --muted: #888;
    --green: #4ade80;
    --red: #f87171;
    --yellow: #fbbf24;
  }
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  html { scroll-behavior: smooth; }
  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Noto Serif JP', serif;
    min-height: 100vh;
    line-height: 1.7;
    overflow-x: hidden;
  }

  /* HEADER */
  .hero {
    position: relative;
    padding: 60px 24px 40px;
    text-align: center;
    overflow: hidden;
  }
  .hero::before {
    content: '';
    position: absolute;
    top: -60px; left: 50%; transform: translateX(-50%);
    width: 600px; height: 300px;
    background: radial-gradient(ellipse, rgba(232,197,71,0.15) 0%, transparent 70%);
    pointer-events: none;
  }
  .badge {
    display: inline-block;
    background: var(--accent);
    color: #000;
    font-size: 11px;
    font-family: 'DM Mono', monospace;
    font-weight: 500;
    letter-spacing: 0.12em;
    padding: 4px 12px;
    border-radius: 2px;
    margin-bottom: 20px;
    animation: fadeDown 0.6s ease both;
  }
  .hero h1 {
    font-size: clamp(28px, 6vw, 52px);
    font-weight: 900;
    line-height: 1.2;
    letter-spacing: -0.02em;
    margin-bottom: 16px;
    animation: fadeDown 0.6s 0.1s ease both;
  }
  .hero h1 span { color: var(--accent); }
  .hero p {
    font-size: 15px;
    color: var(--muted);
    max-width: 520px;
    margin: 0 auto 8px;
    animation: fadeDown 0.6s 0.2s ease both;
  }
  .law-update {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    color: var(--accent2);
    margin-top: 12px;
    animation: fadeDown 0.6s 0.3s ease both;
  }
  .law-update::before { content: 'â—'; font-size: 8px; }

  /* LAYOUT */
  .container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 24px 80px;
  }

  /* WALLS QUICK GUIDE */
  .walls-bar {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 40px;
    animation: fadeUp 0.6s 0.4s ease both;
  }
  .wall-chip {
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 6px 14px;
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    cursor: default;
    transition: border-color 0.2s;
  }
  .wall-chip.w1 { border-color: #4ade80; color: #4ade80; }
  .wall-chip.w2 { border-color: #fbbf24; color: #fbbf24; }
  .wall-chip.w3 { border-color: #fb923c; color: #fb923c; }
  .wall-chip.w4 { border-color: #f87171; color: #f87171; }
  .wall-chip.w5 { border-color: #c084fc; color: #c084fc; }

  /* MAIN CARD */
  .calc-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 40px;
    margin-bottom: 32px;
    animation: fadeUp 0.6s 0.5s ease both;
  }

  .section-label {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.15em;
    color: var(--accent);
    text-transform: uppercase;
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .section-label::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border);
  }

  .form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-bottom: 32px;
  }
  @media (max-width: 600px) {
    .form-grid { grid-template-columns: 1fr; }
    .calc-card { padding: 24px 20px; }
  }

  .field { display: flex; flex-direction: column; gap: 8px; }
  .field label {
    font-size: 13px;
    color: var(--muted);
    letter-spacing: 0.02em;
  }
  .field label strong { color: var(--text); font-weight: 700; }

  .input-wrap {
    position: relative;
    display: flex;
    align-items: center;
  }
  .input-wrap input, .input-wrap select {
    width: 100%;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text);
    font-family: 'DM Mono', monospace;
    font-size: 18px;
    padding: 14px 50px 14px 16px;
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
    -webkit-appearance: none;
  }
  .input-wrap select {
    font-size: 14px;
    font-family: 'Noto Serif JP', serif;
    padding-right: 16px;
    cursor: pointer;
  }
  .input-wrap input:focus, .input-wrap select:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(232,197,71,0.12);
  }
  .input-unit {
    position: absolute;
    right: 14px;
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    color: var(--muted);
    pointer-events: none;
  }
  .hint {
    font-size: 11px;
    color: #555;
    font-family: 'DM Mono', monospace;
  }

  /* SLIDER */
  .slider-field { grid-column: 1 / -1; }
  .slider-wrap { position: relative; }
  input[type=range] {
    width: 100%;
    -webkit-appearance: none;
    height: 4px;
    background: var(--border);
    border-radius: 2px;
    outline: none;
    cursor: pointer;
  }
  input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px; height: 20px;
    background: var(--accent);
    border-radius: 50%;
    cursor: pointer;
    transition: transform 0.15s;
  }
  input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.2); }
  .slider-labels {
    display: flex;
    justify-content: space-between;
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: #444;
    margin-top: 6px;
  }
  .slider-value {
    text-align: center;
    font-family: 'DM Mono', monospace;
    font-size: 22px;
    color: var(--accent);
    margin-bottom: 12px;
    font-weight: 500;
  }

  /* BUTTON */
  .calc-btn {
    width: 100%;
    background: var(--accent);
    color: #000;
    border: none;
    border-radius: 6px;
    font-family: 'Noto Serif JP', serif;
    font-size: 17px;
    font-weight: 700;
    padding: 18px;
    cursor: pointer;
    transition: transform 0.15s, box-shadow 0.15s, opacity 0.15s;
    letter-spacing: 0.05em;
  }
  .calc-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 32px rgba(232,197,71,0.3);
  }
  .calc-btn:active { transform: translateY(0); }

  /* RESULT */
  #result {
    display: none;
    animation: fadeUp 0.5s ease both;
  }

  .verdict {
    border-radius: 10px;
    padding: 28px 32px;
    margin-bottom: 24px;
    border: 1px solid;
    position: relative;
    overflow: hidden;
  }
  .verdict::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
  }
  .verdict.safe { border-color: rgba(74,222,128,0.3); background: rgba(74,222,128,0.05); }
  .verdict.safe::before { background: var(--green); }
  .verdict.warning { border-color: rgba(251,191,36,0.3); background: rgba(251,191,36,0.05); }
  .verdict.warning::before { background: var(--yellow); }
  .verdict.danger { border-color: rgba(248,113,113,0.3); background: rgba(248,113,113,0.05); }
  .verdict.danger::before { background: var(--red); }

  .verdict-icon { font-size: 32px; margin-bottom: 8px; }
  .verdict-title { font-size: 22px; font-weight: 900; margin-bottom: 8px; }
  .verdict-desc { font-size: 14px; color: var(--muted); line-height: 1.8; }

  /* WALLS TABLE */
  .walls-result {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 24px;
  }
  .walls-result-header {
    padding: 16px 24px;
    border-bottom: 1px solid var(--border);
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.15em;
    color: var(--accent);
  }
  .wall-row {
    display: flex;
    align-items: center;
    padding: 16px 24px;
    border-bottom: 1px solid var(--border);
    gap: 16px;
    transition: background 0.15s;
  }
  .wall-row:last-child { border-bottom: none; }
  .wall-row:hover { background: rgba(255,255,255,0.02); }
  .wall-amount {
    font-family: 'DM Mono', monospace;
    font-size: 15px;
    font-weight: 500;
    width: 80px;
    flex-shrink: 0;
  }
  .wall-name { font-size: 13px; flex: 1; }
  .wall-status {
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    padding: 4px 10px;
    border-radius: 3px;
    flex-shrink: 0;
  }
  .wall-status.over { background: rgba(248,113,113,0.15); color: var(--red); }
  .wall-status.under { background: rgba(74,222,128,0.12); color: var(--green); }
  .wall-status.near { background: rgba(251,191,36,0.12); color: var(--yellow); }
  .wall-margin {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--muted);
    width: 90px;
    text-align: right;
    flex-shrink: 0;
  }

  /* HAND TAKE CALC */
  .hand-take {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 28px;
    margin-bottom: 24px;
  }
  .hand-take-title {
    font-size: 14px;
    font-weight: 700;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .hand-take-title::before {
    content: '';
    width: 4px; height: 18px;
    background: var(--accent2);
    border-radius: 2px;
  }
  .compare-grid {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 16px;
    align-items: center;
  }
  .compare-box {
    background: var(--surface);
    border-radius: 8px;
    padding: 20px;
    text-align: center;
  }
  .compare-box .label { font-size: 11px; color: var(--muted); margin-bottom: 8px; font-family: 'DM Mono', monospace; }
  .compare-box .amount { font-family: 'DM Mono', monospace; font-size: 22px; font-weight: 500; }
  .compare-box.better .amount { color: var(--green); }
  .compare-box.worse .amount { color: var(--red); }
  .compare-arrow { text-align: center; font-size: 20px; color: var(--muted); }
  .diff-badge {
    text-align: center;
    margin-top: 16px;
    font-size: 13px;
  }
  .diff-plus { color: var(--green); font-weight: 700; }
  .diff-minus { color: var(--red); font-weight: 700; }

  /* ADVICE */
  .advice-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 8px;
  }
  .advice-item {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    font-size: 13px;
    line-height: 1.7;
  }
  .advice-item .num {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--accent);
    background: rgba(232,197,71,0.1);
    border-radius: 3px;
    padding: 2px 7px;
    flex-shrink: 0;
    margin-top: 2px;
  }

  /* FOOTER NOTE */
  .footer-note {
    border-top: 1px solid var(--border);
    padding-top: 24px;
    margin-top: 40px;
    font-size: 11px;
    color: #444;
    line-height: 1.8;
    font-family: 'DM Mono', monospace;
  }

  /* ANIMATIONS */
  @keyframes fadeDown {
    from { opacity: 0; transform: translateY(-16px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* PROGRESS BAR */
  .progress-bar-wrap {
    height: 6px;
    background: var(--border);
    border-radius: 3px;
    margin: 12px 0;
    overflow: hidden;
  }
  .progress-bar-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.8s cubic-bezier(0.16,1,0.3,1);
  }

  /* TOOLTIP */
  .tooltip-wrap { position: relative; display: inline-block; }
  .tooltip-icon {
    width: 16px; height: 16px;
    border-radius: 50%;
    background: var(--border);
    color: var(--muted);
    font-size: 10px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: help;
    font-family: 'DM Mono', monospace;
    vertical-align: middle;
    margin-left: 4px;
  }
  .tooltip-text {
    display: none;
    position: absolute;
    bottom: 120%;
    left: 50%;
    transform: translateX(-50%);
    background: #2a2a35;
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 10px 14px;
    font-size: 12px;
    color: var(--text);
    width: 220px;
    line-height: 1.6;
    z-index: 10;
    pointer-events: none;
  }
  .tooltip-wrap:hover .tooltip-text { display: block; }

  .reset-link {
    display: block;
    text-align: center;
    color: var(--muted);
    font-size: 13px;
    margin-top: 20px;
    cursor: pointer;
    text-decoration: underline;
    font-family: 'DM Mono', monospace;
  }
  .reset-link:hover { color: var(--text); }
</style>
</head>
<body>

<div class="hero">
  <div class="badge">2025å¹´ç¨åˆ¶æ”¹æ­£ å®Œå…¨å¯¾å¿œ</div>
  <h1>æ‰¶é¤Šãƒ©ã‚¤ãƒ³<span>åˆ¤å®š</span>ãƒ„ãƒ¼ãƒ«</h1>
  <p>å¹´åãƒ»å‹¤å‹™å…ˆè¦æ¨¡ãƒ»é…å¶è€…åå…¥ã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§<br>ã€Œã‚ã¨ä½•å††ã¾ã§åƒã‘ã‚‹ã‹ã€ã‚’å³åº§ã«åˆ¤å®š</p>
  <div class="law-update">ä»¤å’Œ7å¹´åº¦ç¨åˆ¶æ”¹æ­£åæ˜ æ¸ˆï½œ103ä¸‡â†’123ä¸‡å††å¯¾å¿œ</div>
</div>

<div class="container">

  <!-- å£ãƒãƒƒãƒ— -->
  <div class="walls-bar">
    <div class="wall-chip w1">110ä¸‡ï¼šä½æ°‘ç¨ã®å£</div>
    <div class="wall-chip w2">123ä¸‡ï¼šæ‰€å¾—ç¨ã®å£</div>
    <div class="wall-chip w3">106ä¸‡ï¼šç¤¾ä¼šä¿é™ºï¼ˆå¤§ä¼æ¥­ï¼‰</div>
    <div class="wall-chip w4">130ä¸‡ï¼šç¤¾ä¼šä¿é™ºï¼ˆå…¨ç¤¾ï¼‰</div>
    <div class="wall-chip w5">160ä¸‡ï¼šé…å¶è€…æ§é™¤ã®å£</div>
  </div>

  <!-- è¨ˆç®—ãƒ•ã‚©ãƒ¼ãƒ  -->
  <div class="calc-card">
    <div class="section-label">ã‚ãªãŸã®æƒ…å ±ã‚’å…¥åŠ›</div>

    <!-- ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼šå¹´å -->
    <div style="margin-bottom: 32px;">
      <div class="slider-value" id="slider-display">å¹´åï¼š<span id="income-display">120</span>ä¸‡å††</div>
      <input type="range" id="income-slider" min="0" max="300" step="1" value="120"
        oninput="document.getElementById('income-display').textContent=this.value; document.getElementById('income-input').value=this.value;">
      <div class="slider-labels">
        <span>0ä¸‡</span><span>50ä¸‡</span><span>100ä¸‡</span><span>150ä¸‡</span><span>200ä¸‡</span><span>250ä¸‡</span><span>300ä¸‡</span>
      </div>
    </div>

    <div class="form-grid">
      <!-- å¹´å æ•°å€¤å…¥åŠ› -->
      <div class="field">
        <label><strong>ã‚ãªãŸã®å¹´åï¼ˆæ‰‹å…¥åŠ›å¯ï¼‰</strong></label>
        <div class="input-wrap">
          <input type="number" id="income-input" value="120" min="0" max="500"
            oninput="if(this.value<=300)document.getElementById('income-slider').value=this.value; document.getElementById('income-display').textContent=Math.min(this.value,300);">
          <span class="input-unit">ä¸‡å††</span>
        </div>
        <span class="hint">äº¤é€šè²»ã‚’é™¤ã„ãŸå¹´é–“ã®çµ¦ä¸åå…¥</span>
      </div>

      <!-- å‹¤å‹™å…ˆè¦æ¨¡ -->
      <div class="field">
        <label><strong>å‹¤å‹™å…ˆã®å¾“æ¥­å“¡æ•°</strong>
          <span class="tooltip-wrap">
            <span class="tooltip-icon">?</span>
            <span class="tooltip-text">106ä¸‡å††ã®å£ï¼ˆç¤¾ä¼šä¿é™ºåŠ å…¥ï¼‰ãŒé©ç”¨ã•ã‚Œã‚‹ã‹ã©ã†ã‹ã¯ã€å‹¤å‹™å…ˆã®å¾“æ¥­å“¡æ•°ã§å¤‰ã‚ã‚Šã¾ã™ã€‚51äººä»¥ä¸Šã®ä¼æ¥­ã¯2024å¹´10æœˆã‹ã‚‰å¯¾è±¡æ‹¡å¤§ã€‚</span>
          </span>
        </label>
        <div class="input-wrap">
          <select id="company-size">
            <option value="large">51äººä»¥ä¸Šï¼ˆå¤§ãƒ»ä¸­è¦æ¨¡ï¼‰</option>
            <option value="small">50äººä»¥ä¸‹ï¼ˆå°è¦æ¨¡ï¼‰</option>
            <option value="unknown">ã‚ã‹ã‚‰ãªã„</option>
          </select>
        </div>
        <span class="hint">æ³•äººå…¨ä½“ã®åˆè¨ˆå¾“æ¥­å“¡æ•°</span>
      </div>

      <!-- é€±åŠ´åƒæ™‚é–“ -->
      <div class="field">
        <label><strong>é€±ã®æ‰€å®šåŠ´åƒæ™‚é–“</strong></label>
        <div class="input-wrap">
          <input type="number" id="weekly-hours" value="25" min="1" max="40">
          <span class="input-unit">æ™‚é–“</span>
        </div>
        <span class="hint">æ®‹æ¥­é™¤ãå¥‘ç´„ä¸Šã®æ™‚é–“</span>
      </div>

      <!-- é…å¶è€…å¹´å -->
      <div class="field">
        <label><strong>é…å¶è€…ã®å¹´å</strong>
          <span class="tooltip-wrap">
            <span class="tooltip-icon">?</span>
            <span class="tooltip-text">é…å¶è€…æ§é™¤ãƒ»é…å¶è€…ç‰¹åˆ¥æ§é™¤ã®é©ç”¨ã«å½±éŸ¿ã—ã¾ã™ã€‚é…å¶è€…ã®å¹´åãŒ1,195ä¸‡å††ä»¥ä¸Šã®å ´åˆã€æ§é™¤ã¯é©ç”¨å¤–ã«ãªã‚Šã¾ã™ã€‚</span>
          </span>
        </label>
        <div class="input-wrap">
          <select id="spouse-income">
            <option value="none">é…å¶è€…ãªã—ï¼ç‹¬èº«</option>
            <option value="low" selected>ã€œ500ä¸‡å††</option>
            <option value="mid">500ã€œ1,000ä¸‡å††</option>
            <option value="high">1,000ä¸‡ã€œ1,195ä¸‡å††</option>
            <option value="over">1,195ä¸‡å††è¶…</option>
          </select>
        </div>
        <span class="hint">é…å¶è€…æ§é™¤ã®é©ç”¨ç¢ºèªç”¨</span>
      </div>
    </div>

    <button class="calc-btn" onclick="calculate()">åˆ¤å®šã™ã‚‹ â†’</button>
  </div>

  <!-- çµæœ -->
  <div id="result">

    <!-- ç·åˆåˆ¤å®š -->
    <div id="verdict-box" class="verdict">
      <div class="verdict-icon" id="verdict-icon"></div>
      <div class="verdict-title" id="verdict-title"></div>
      <div class="verdict-desc" id="verdict-desc"></div>
    </div>

    <!-- å¹´åã®å£ãƒã‚§ãƒƒã‚¯ -->
    <div class="walls-result">
      <div class="walls-result-header">WALL CHECK â€” å„ãƒ©ã‚¤ãƒ³ã¨ã®è·é›¢</div>
      <div id="walls-list"></div>
    </div>

    <!-- æ‰‹å–ã‚Šæ¯”è¼ƒ -->
    <div class="hand-take">
      <div class="hand-take-title">æ‰¶é¤Šå†… vs æ‰¶é¤Šå¤– æ‰‹å–ã‚Šæ¯”è¼ƒ</div>
      <div class="compare-grid">
        <div class="compare-box" id="box-inside">
          <div class="label">æ‰¶é¤Šå†…ã«æŠ‘ãˆãŸå ´åˆ</div>
          <div class="amount" id="inside-amount">â€”</div>
          <div style="font-size:11px;color:var(--muted);margin-top:4px;font-family:DM Mono,monospace;" id="inside-note"></div>
        </div>
        <div class="compare-arrow">â†’</div>
        <div class="compare-box" id="box-current">
          <div class="label">ç¾åœ¨ã®å¹´åã®ã¾ã¾</div>
          <div class="amount" id="current-amount">â€”</div>
          <div style="font-size:11px;color:var(--muted);margin-top:4px;font-family:DM Mono,monospace;" id="current-note"></div>
        </div>
      </div>
      <div class="diff-badge" id="diff-badge"></div>
    </div>

    <!-- ã‚¢ãƒ‰ãƒã‚¤ã‚¹ -->
    <div class="calc-card" style="margin-bottom:0;">
      <div class="section-label">ã‚ãªãŸã¸ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹</div>
      <div class="advice-list" id="advice-list"></div>
    </div>

    <span class="reset-link" onclick="resetForm()">â† å…¥åŠ›ã‚’ã‚„ã‚Šç›´ã™</span>

    <div class="footer-note">
      â€»æœ¬ãƒ„ãƒ¼ãƒ«ã®è¨ˆç®—çµæœã¯æ¦‚ç®—ã§ã™ã€‚å®Ÿéš›ã®æ‰‹å–ã‚Šã¯ä½ã‚“ã§ã„ã‚‹è‡ªæ²»ä½“ãƒ»å‹¤å‹™å…ˆã®è¦å®šãƒ»å„ç¨®æ§é™¤ãƒ»æ‰¶é¤Šå®¶æ—æ•°ãªã©ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚
      é‡è¦ãªåˆ¤æ–­ã®å‰ã«ã¯ç¨ç†å£«ã‚„ç¤¾ä¼šä¿é™ºåŠ´å‹™å£«ã«ã”ç›¸è«‡ãã ã•ã„ã€‚<br>
      â€»2025å¹´ï¼ˆä»¤å’Œ7å¹´ï¼‰ç¨åˆ¶æ”¹æ­£ã‚’åæ˜ ã€‚åŸºç¤æ§é™¤58ä¸‡å††ãƒ»çµ¦ä¸æ‰€å¾—æ§é™¤65ä¸‡å††ãƒ»æ‰€å¾—ç¨éèª²ç¨ãƒ©ã‚¤ãƒ³123ä¸‡å††ã€‚
    </div>

  </div>
</div>

<script>
const WALLS = [
  { key: 'resident', amount: 110, label: 'ä½æ°‘ç¨ã®å£', desc: 'è¶…ãˆã‚‹ã¨ä½æ°‘ç¨ï¼ˆç´„10%ï¼‰ãŒç™ºç”Ÿã€‚è‡ªæ²»ä½“ã«ã‚ˆã‚Š100ã€œ110ä¸‡å††ã€‚', color: '#4ade80' },
  { key: 'income_tax', amount: 123, label: 'æ‰€å¾—ç¨ã®å£ï¼ˆ2025å¹´ã€œï¼‰', desc: 'æ—§103ä¸‡å††ã‹ã‚‰æ”¹æ­£ã€‚è¶…ãˆã‚‹ã¨æ‰€å¾—ç¨ãŒç™ºç”Ÿã—ã€é…å¶è€…æ§é™¤ã®å¯¾è±¡å¤–ã«ã€‚', color: '#fbbf24' },
  { key: 'social_s', amount: 106, label: 'ç¤¾ä¼šä¿é™ºã®å£ï¼ˆ51äººä»¥ä¸Šï¼‰', desc: 'é€±20hä»¥ä¸Šãƒ»æœˆ8.8ä¸‡å††ä»¥ä¸Šã®æ¡ä»¶ã‚’æº€ãŸã™ã¨ç¤¾ä¼šä¿é™ºåŠ å…¥ç¾©å‹™ã€‚', color: '#fb923c', bigCompanyOnly: true },
  { key: 'social_l', amount: 130, label: 'ç¤¾ä¼šä¿é™ºã®å£ï¼ˆå…¨ç¤¾å…±é€šï¼‰', desc: 'å…¨äº‹æ¥­æ‰€å…±é€šã€‚è¶…ãˆã‚‹ã¨å¥åº·ä¿é™ºãƒ»å›½æ°‘å¹´é‡‘ã¸ã®è‡ªå·±åŠ å…¥ãŒå¿…è¦ã«ã€‚', color: '#f87171' },
  { key: 'spouse', amount: 160, label: 'é…å¶è€…ç‰¹åˆ¥æ§é™¤ã®å£', desc: 'é…å¶è€…ã®ç¨è² æ‹…ãŒå¢—ãˆå§‹ã‚ã‚‹ã€‚160ä¸‡å††ã¾ã§æº€é¡æ§é™¤ï¼ˆæ—§150ä¸‡å††ã‹ã‚‰æ”¹æ­£ï¼‰ã€‚', color: '#c084fc' },
];

function fmt(n) {
  return Math.round(n).toLocaleString() + 'ä¸‡å††';
}

function calcHandTake(income, isBigCompany, weeklyHours) {
  // ç¤¾ä¼šä¿é™ºæ–™ã®æ¦‚ç®—ï¼ˆå¤§ä¼æ¥­ãƒ»é€±20hä»¥ä¸Šãƒ»106ä¸‡è¶…ã®å ´åˆï¼‰
  let socialIns = 0;
  const needSocialIns = isBigCompany && weeklyHours >= 20 && income >= 106;
  const alwaysSocialIns = income >= 130;

  if (alwaysSocialIns || needSocialIns) {
    // å¥åº·ä¿é™º ç´„5% + åšç”Ÿå¹´é‡‘ ç´„9.15% â‰’ 14.15%ï¼ˆåŠ´ä½¿æŠ˜åŠå¾Œã®æœ¬äººè² æ‹…åˆ†ï¼‰
    socialIns = income * 0.1415;
  }

  // æ‰€å¾—ç¨ï¼ˆæ¦‚ç®—ï¼‰
  let incomeTax = 0;
  const taxable = Math.max(0, income - 65 - 58); // çµ¦ä¸æ‰€å¾—æ§é™¤65ä¸‡ + åŸºç¤æ§é™¤58ä¸‡
  if (taxable > 0) {
    if (taxable <= 195) incomeTax = taxable * 0.05;
    else if (taxable <= 330) incomeTax = 195 * 0.05 + (taxable - 195) * 0.10;
    else incomeTax = 195 * 0.05 + 135 * 0.10 + (taxable - 330) * 0.20;
  }

  // ä½æ°‘ç¨ï¼ˆæ¦‚ç®—ï¼‰
  let residentTax = 0;
  const residentTaxable = Math.max(0, income - 65 - 45); // ä½æ°‘ç¨åŸºç¤æ§é™¤45ä¸‡
  if (income > 110) residentTax = residentTaxable * 0.10;

  const take = income - socialIns - incomeTax - residentTax;
  return { take, socialIns, incomeTax, residentTax, needSocialIns: needSocialIns || alwaysSocialIns };
}

function calculate() {
  const income = parseFloat(document.getElementById('income-input').value) || 0;
  const companySize = document.getElementById('company-size').value;
  const weeklyHours = parseFloat(document.getElementById('weekly-hours').value) || 0;
  const spouseIncome = document.getElementById('spouse-income').value;

  const isBigCompany = companySize === 'large' || companySize === 'unknown';
  const hasSpouse = spouseIncome !== 'none';
  const spouseOver = spouseIncome === 'over';

  // ç¾åœ¨ã®æ‰‹å–ã‚Š
  const current = calcHandTake(income, isBigCompany, weeklyHours);

  // æ‰¶é¤Šå†…ã«æŠ‘ãˆãŸå ´åˆï¼ˆæœ€é©ãƒ©ã‚¤ãƒ³ï¼‰
  let safeLimit = 109; // ä½æ°‘ç¨æœªæº€
  if (isBigCompany && weeklyHours >= 20) safeLimit = 105; // 106ä¸‡æœªæº€
  const insideCalc = calcHandTake(safeLimit, false, weeklyHours);

  // çµæœã‚¨ãƒªã‚¢è¡¨ç¤º
  document.getElementById('result').style.display = 'block';
  document.getElementById('result').scrollIntoView({ behavior: 'smooth', block: 'start' });

  // ---- ç·åˆåˆ¤å®š ----
  const verdictBox = document.getElementById('verdict-box');
  const verdictIcon = document.getElementById('verdict-icon');
  const verdictTitle = document.getElementById('verdict-title');
  const verdictDesc = document.getElementById('verdict-desc');
  verdictBox.className = 'verdict';

  let primaryWallBreached = null;
  if (income >= 130) primaryWallBreached = '130ä¸‡å††ï¼ˆç¤¾ä¼šä¿é™ºï¼‰';
  else if (isBigCompany && weeklyHours >= 20 && income >= 106) primaryWallBreached = '106ä¸‡å††ï¼ˆç¤¾ä¼šä¿é™ºãƒ»å¤§ä¼æ¥­ï¼‰';
  else if (income >= 123) primaryWallBreached = '123ä¸‡å††ï¼ˆæ‰€å¾—ç¨ï¼‰';
  else if (income >= 110) primaryWallBreached = '110ä¸‡å††ï¼ˆä½æ°‘ç¨ï¼‰';

  if (!primaryWallBreached && income < 106) {
    verdictBox.classList.add('safe');
    verdictIcon.textContent = 'âœ…';
    verdictTitle.textContent = 'æ‰¶é¤Šå†…ã§ã™ã€‚å®‰å¿ƒã—ã¦åƒã‘ã¾ã™';
    verdictDesc.innerHTML = `ç¾åœ¨ã®å¹´å <strong>${fmt(income)}</strong> ã¯ã™ã¹ã¦ã®ä¸»è¦ãƒ©ã‚¤ãƒ³ã‚’ä¸‹å›ã£ã¦ã„ã¾ã™ã€‚ç¤¾ä¼šä¿é™ºæ–™ãƒ»æ‰€å¾—ç¨ãƒ»ä½æ°‘ç¨ã®è² æ‹…ãªãã€é…å¶è€…æ§é™¤ã‚‚æº€é¡é©ç”¨ã•ã‚Œã¾ã™ã€‚`;
  } else if (income < 123) {
    verdictBox.classList.add('warning');
    verdictIcon.textContent = 'âš ï¸';
    verdictTitle.textContent = `æ³¨æ„ï¼š${primaryWallBreached} ã‚’è¶…ãˆã¦ã„ã¾ã™`;
    verdictDesc.innerHTML = `å¹´å <strong>${fmt(income)}</strong> ã¯ ${primaryWallBreached} ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚è¿½åŠ ã®ç¨è² æ‹…ã¾ãŸã¯ç¤¾ä¼šä¿é™ºæ–™ãŒç™ºç”Ÿã—ã¾ã™ã€‚ä¸‹è¨˜ã®æ¯”è¼ƒã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚`;
  } else {
    verdictBox.classList.add('danger');
    verdictIcon.textContent = 'ğŸ”´';
    verdictTitle.textContent = `æ‰¶é¤Šå¤–ã§ã™ï¼š${primaryWallBreached} ã‚’è¶…é`;
    verdictDesc.innerHTML = `å¹´å <strong>${fmt(income)}</strong> ã¯è¤‡æ•°ã®æ‰¶é¤Šãƒ©ã‚¤ãƒ³ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚ç¤¾ä¼šä¿é™ºæ–™ãƒ»æ‰€å¾—ç¨ãƒ»ä½æ°‘ç¨ãŒã™ã¹ã¦ç™ºç”Ÿã—ã¾ã™ã€‚æ‰¶é¤Šã‚’å¤–ã‚Œã‚‹ã“ã¨ã§æã‹å¾—ã‹ã‚’ä¸‹è¨˜ã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚`;
  }

  // ---- å£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ ----
  const wallsList = document.getElementById('walls-list');
  wallsList.innerHTML = '';
  WALLS.forEach(w => {
    if (w.bigCompanyOnly && !isBigCompany) return;
    const diff = income - w.amount;
    const pct = Math.min(100, (income / w.amount) * 100);
    let status, statusText, marginText;
    if (diff >= 5) { status = 'over'; statusText = 'è¶…é'; }
    else if (diff >= -5) { status = 'near'; statusText = 'è¦æ³¨æ„'; }
    else { status = 'under'; statusText = 'ä½™è£•'; }
    if (diff >= 0) marginText = `+${diff.toFixed(0)}ä¸‡ è¶…é`;
    else marginText = `æ®‹ã‚Š ${Math.abs(diff).toFixed(0)}ä¸‡`;

    const row = document.createElement('div');
    row.className = 'wall-row';
    row.innerHTML = `
      <div class="wall-amount" style="color:${w.color}">${w.amount}ä¸‡</div>
      <div class="wall-name">
        <div style="font-size:13px;margin-bottom:3px;">${w.label}</div>
        <div style="font-size:11px;color:var(--muted);">${w.desc}</div>
        <div class="progress-bar-wrap" style="margin-top:8px;">
          <div class="progress-bar-fill" style="width:${pct}%;background:${w.color};opacity:0.7;"></div>
        </div>
      </div>
      <div class="wall-status ${status}">${statusText}</div>
      <div class="wall-margin">${marginText}</div>
    `;
    wallsList.appendChild(row);
  });

  // ---- æ‰‹å–ã‚Šæ¯”è¼ƒ ----
  document.getElementById('inside-amount').textContent = fmt(insideCalc.take);
  document.getElementById('inside-note').textContent = `å¹´å ${safeLimit}ä¸‡å††ã«æŠ‘ãˆãŸå ´åˆ`;
  document.getElementById('current-amount').textContent = fmt(current.take);
  document.getElementById('current-note').textContent = `ç¤¾ä¿${current.needSocialIns ? fmt(current.socialIns) : '0ä¸‡'} / æ‰€ç¨${fmt(current.incomeTax)} / ä½ç¨${fmt(current.residentTax)}`;

  const diffAmount = current.take - insideCalc.take;
  const incomeGain = income - safeLimit;
  const diffBadge = document.getElementById('diff-badge');

  const boxCurrent = document.getElementById('box-current');
  const boxInside = document.getElementById('box-inside');
  boxCurrent.className = 'compare-box';
  boxInside.className = 'compare-box';

  if (diffAmount > 5) {
    boxCurrent.classList.add('better');
    diffBadge.innerHTML = `å¹´åã‚’ <strong>${fmt(incomeGain)}</strong> å¢—ã‚„ã™ã“ã¨ã§æ‰‹å–ã‚ŠãŒ <span class="diff-plus">ï¼‹${fmt(diffAmount)}</span> å¢—ãˆã¾ã™`;
  } else if (diffAmount < -5) {
    boxInside.classList.add('better');
    boxCurrent.classList.add('worse');
    diffBadge.innerHTML = `å¹´åãŒå¤šã„ã®ã«æ‰‹å–ã‚Šã¯ <span class="diff-minus">${fmt(Math.abs(diffAmount))} å°‘ãªããªã‚Šã¾ã™</span>ï¼ˆã„ã‚ã‚†ã‚‹ã€Œæã™ã‚‹å¹´åå¸¯ã€ï¼‰`;
  } else {
    diffBadge.innerHTML = `æ‰‹å–ã‚Šã¯ã»ã¼åŒé¡ã€‚ã©ã¡ã‚‰ã§ã‚‚å¤§ããªå·®ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚`;
  }

  // ---- ã‚¢ãƒ‰ãƒã‚¤ã‚¹ ----
  const adviceList = document.getElementById('advice-list');
  adviceList.innerHTML = '';
  const advices = [];

  if (income < 106) {
    advices.push('ç¾åœ¨ã¯å…¨ã¦ã®ä¸»è¦ãƒ©ã‚¤ãƒ³ã‚’ä¸‹å›ã£ã¦ã„ã¾ã™ã€‚å¹´æœ«ã«å‘ã‘ã¦åå…¥ã‚’èª¿æ•´ã—ã¦ã„ã‚‹å ´åˆã€<strong>ã‚‚ã†å°‘ã—ç¨¼ã„ã§ã‚‚æ‰‹å–ã‚Šã¯å¢—ãˆã¾ã™</strong>ã€‚');
  }
  if (income >= 106 && income < 123 && isBigCompany && weeklyHours >= 20) {
    advices.push('<strong>106ä¸‡å††ã®å£</strong>ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚ç¤¾ä¼šä¿é™ºæ–™ï¼ˆç´„å¹´15ã€œ20ä¸‡å††ï¼‰ãŒç™ºç”Ÿã—ã¾ã™ã€‚æ‰‹å–ã‚Šã‚’å›å¾©ã•ã›ã‚‹ã«ã¯å¹´åã‚’130ä¸‡å††ä»¥ä¸Šã«å¢—ã‚„ã™ã‹ã€106ä¸‡å††æœªæº€ã«æŠ‘ãˆã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚');
  }
  if (income >= 123 && income < 160 && hasSpouse && !spouseOver) {
    advices.push('é…å¶è€…ãŒã„ã‚‹å ´åˆã€<strong>é…å¶è€…ç‰¹åˆ¥æ§é™¤</strong>ï¼ˆæœ€å¤§38ä¸‡å††ï¼‰ãŒå¹´å160ä¸‡å††ã¾ã§æ®µéšçš„ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚é…å¶è€…å´ã®ç¨è² æ‹…ãŒå¢—ãˆã‚‹ã“ã¨ã‚‚è¨ˆç®—ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚');
  }
  if (income >= 130 && income < 180) {
    advices.push('ç¤¾ä¼šä¿é™ºã®ã€Œ<strong>æ‰¶é¤Šã®å£</strong>ã€ï¼ˆ130ä¸‡å††ï¼‰ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚ç¤¾ä¼šä¿é™ºã«è‡ªèº«ã§åŠ å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—å°†æ¥ã®å¹´é‡‘ãŒå¢—ãˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã‚‚ã‚ã‚Šã¾ã™ã€‚');
  }
  if (income >= 160) {
    advices.push('é…å¶è€…ç‰¹åˆ¥æ§é™¤ã®æº€é¡é©ç”¨ãƒ©ã‚¤ãƒ³ï¼ˆ160ä¸‡å††ï¼‰ã‚‚è¶…ãˆã¦ã„ã¾ã™ã€‚ã“ã®å¹´åå¸¯ã¯å®Œå…¨ã«æ‰¶é¤Šã‚’å¤–ã‚Œã¦ãŠã‚Šã€ç¤¾ä¼šä¿é™ºæ–™ãƒ»å„ç¨®ç¨é‡‘ãŒå…¨é¡è‡ªå·±è² æ‹…ã§ã™ã€‚<strong>ã‚¹ãƒ‘ãƒƒã¨åƒã„ã¦ç¨¼ãã‹ã€å®Œå…¨ã«160ä¸‡å††æœªæº€ã«æŠ‘ãˆã‚‹ã‹</strong>ã‚’æ˜ç¢ºã«åˆ¤æ–­ã—ã¾ã—ã‚‡ã†ã€‚');
  }
  if (income >= 200) {
    advices.push('å¹´å200ä¸‡å††ã‚’è¶…ãˆã‚‹ã¨ã€ç¨ãƒ»ç¤¾ä¼šä¿é™ºã®è² æ‹…ã‚‚å¢—ãˆã¾ã™ãŒ<strong>æ‰‹å–ã‚Šã®çµ¶å¯¾é¡ã¯ç¢ºå®Ÿã«å¢—ãˆã¾ã™</strong>ã€‚æ‰¶é¤Šã‚’æ°—ã«ã™ã‚‹å¹´åå¸¯ã‚’æŠœã‘ãŸã¨è€ƒãˆã¦ã‚ˆã„ã§ã—ã‚‡ã†ã€‚');
  }
  if (advices.length === 0) {
    advices.push('ç¾åœ¨ã®å¹´åã§ç‰¹ã«å¤§ããªæå¤±ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãŸã ã—å¹´æœ«ã«å‘ã‘ã¦åå…¥ãŒå¢—ãˆã‚‹å ´åˆã¯ã€å†åº¦ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚');
  }
  advices.push('æœ¬ãƒ„ãƒ¼ãƒ«ã®è¨ˆç®—ã¯æ¦‚ç®—ã§ã™ã€‚æ­£ç¢ºãªé‡‘é¡ã¯å¹´æœ«èª¿æ•´ã¾ãŸã¯ç¢ºå®šç”³å‘Šæ™‚ã«ç¢ºèªã—ã¦ãã ã•ã„ã€‚');

  advices.forEach((a, i) => {
    const div = document.createElement('div');
    div.className = 'advice-item';
    div.innerHTML = `<span class="num">0${i+1}</span><span>${a}</span>`;
    adviceList.appendChild(div);
  });
}

function resetForm() {
  document.getElementById('result').style.display = 'none';
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>
